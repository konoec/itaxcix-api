# ๐จ Diagrama de Arquitectura y Patrones - PanelWeb

## ๐๏ธ Vista General con Patrones Principales

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                           ๐ฅ๏ธ PRESENTATION LAYER                                โ
โ                                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ                โ
โ  โ   ๐ HTML/CSS   โ  โ  ๐ฎ Controllers โ  โ   ๐ผ๏ธ Views      โ                โ
โ  โ                 โ  โ                 โ  โ  (Templates)    โ                โ
โ  โ ControlAdmision โ  โ LoginController โ  โ Sidebar/Modal   โ                โ
โ  โ Login/Profile   โ  โ UIController    โ  โ Tables/Forms    โ                โ
โ  โ Sidebar         โ  โ SidebarControl  โ  โ DOM Elements    โ                โ
โ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ                โ
โ                                  โ                                             โ
โ                          ๐ฏ 1. MVC PATTERN โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                  โ๏ธ                                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                  โ๏ธ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                            ๐ผ BUSINESS LAYER                                   โ
โ                                                                                 โ
โ  ๐ง Services              ๐ฆ Models              ๐ก๏ธ Utils                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ ConductorService    โ โ ๐ค Conductor.js     โ โ ๐ช RouteGuard           โ   โ
โ  โ LoginService        โ โ โโโโโโโโโโโโโโโโโโโ โ โ ๐ AuthChecker          โ   โ
โ  โ ProfileService      โ โ โ fromApiData()   โ โ โ ๐งน SessionCleaner       โ   โ
โ  โ PasswordRecovery    โ โ โ getNombre()     โ โ โ                         โ   โ
โ  โ                     โ โ โ getResumen()    โ โ โ โโโ MODELO PRINCIPAL    โ   โ
โ  โ ๐ก API Comm.        โ โ โ isAprobado()    โ โ โ                         โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโ โ โ isDatosCompletosโ โ โ                         โ   โ
โ           โ             โ โโโโโโโโโโโโโโโโโโโ โ โโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ   ๐ง 2. SERVICE         โ  โโโ CAPA MODELO   โ          ๐ก๏ธ 4. GUARD          โ
โ      LAYER              โ ๐ญ 3. FACTORY       โ             PATTERN           โ
โ                         โ    PATTERN          โ                               โ
โ                                  โ๏ธ                                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                  โ๏ธ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                             ๐พ DATA LAYER                                      โ
โ                                                                                 โ
โ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ                โ
โ  โ  ๐ External    โ  โ  ๐พ Browser     โ  โ  ๐ช Singleton   โ                โ
โ  โ     API         โ  โ    Storage      โ  โ    Instances    โ                โ
โ  โ                 โ  โ                 โ  โ                 โ                โ
โ  โ 149.130.161.148 โ  โ sessionStorage  โ  โ globalInstances โ                โ
โ  โ /api/v1/...     โ  โ localStorage    โ  โ Controllers     โ                โ
โ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ                โ
โ                                                     โ                          โ
โ                                          ๐ 5. SINGLETON                       โ
โ                                             PATTERN                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฏ Los 5 Patrones Principales

### ๐ฏ **1. MVC (Model-View-Controller)** 
- **Ubicaciรณn**: Presentation Layer
- **Archivos**: Controllers, HTML/CSS, Models
- **Propรณsito**: Separaciรณn de responsabilidades entre presentaciรณn, lรณgica y datos

### ๐ง **2. Service Layer Pattern**
- **Ubicaciรณn**: Business Layer - Services
- **Archivos**: `/api/services/*.js`
- **Propรณsito**: Abstrae la comunicaciรณn con APIs y encapsula lรณgica de negocio

### ๐ญ **3. Factory Pattern**
- **Ubicaciรณn**: Business Layer - Models
- **Archivos**: `conductor.js`, `user.js`
- **Propรณsito**: Crea objetos de dominio a partir de datos de API

### ๐ก๏ธ **4. Guard Pattern**
- **Ubicaciรณn**: Business Layer - Utils
- **Archivos**: `route-guard.js`, `auth-checker.js`
- **Propรณsito**: Protege rutas y valida autenticaciรณn

### ๐ **5. Singleton Pattern**
- **Ubicaciรณn**: Data Layer - Global Instances
- **Archivos**: `app-initializer.js`, `window.globalInstances`
- **Propรณsito**: Garantiza una sola instancia de controladores crรญticos

---

## ๐ Flujo de Datos Simplificado

```
๐ค User โโโบ ๐ฅ๏ธ View โโโบ ๐ฎ Controller โโโบ ๐ง Service โโโบ ๐ API
                                             โ
                                             โผ
๐๏ธ View โโโ ๐ฎ Controller โโโ ๐ฆ Model โโโ ๐ญ Factory
```

**Protegido por**: ๐ก๏ธ Guard Pattern en cada paso
**Gestionado por**: ๐ Singleton Pattern para instancias รบnicas

---

## ๐ Archivos Clave por Patrรณn

```
๐๏ธ MVC:
โโโ Controllers: /ui/controllers/*.js
โโโ Views: *.html, *.css
โโโ Models: /api/models/*.js

๐ง Service Layer:
โโโ Services: /api/services/*.js

๐ญ Factory:
โโโ Models: conductor.js (fromApiData method)

๐ก๏ธ Guard:
โโโ route-guard.js
โโโ auth-checker.js

๐ Singleton:
โโโ app-initializer.js
โโโ Global instances management
```

---

*Diagrama de Arquitectura Simplificado - PanelWeb 2025* ๐ฏ

